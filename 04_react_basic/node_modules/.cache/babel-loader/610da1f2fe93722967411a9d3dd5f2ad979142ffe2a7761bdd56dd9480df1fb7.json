{"ast":null,"code":"import _slicedToArray from\"/Users/miyachitaisuke/react-guide-material/04_react_basic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{Suspense,useState,useEffect,lazy}from\"react\";import BaseErrorBoundary from\"./BaseErrorBoundary\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var STORAGE_KEY=\"rcg-current-lec-index\";var DynamicLoader=function DynamicLoader(_ref){var component=_ref.component;var LazyComponent=/*#__PURE__*/lazy(function(){return import(\"\".concat(component));});return/*#__PURE__*/_jsx(BaseErrorBoundary,{children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),children:/*#__PURE__*/_jsx(LazyComponent,{})})});};var App=function App(_ref2){var _localStorage$getItem;var lectures=_ref2.lectures;/**\n   * ローカルストレージより画面復帰時のレクチャーインデックスを取得\n   */var restoredLecIndx=(_localStorage$getItem=localStorage.getItem(STORAGE_KEY))!==null&&_localStorage$getItem!==void 0?_localStorage$getItem:0;restoredLecIndx=restoredLecIndx<lectures.length?restoredLecIndx:0;var _useState=useState(restoredLecIndx),_useState2=_slicedToArray(_useState,2),lecIndex=_useState2[0],setLecIndex=_useState2[1];/**\n   * レクチャーID（フォルダ名）を取得\n   */var lecId=lectures[lecIndex];/**\n   * プルダウン変更時処理\n   */var handleChange=function handleChange(event){return setLecIndex(event.target.value);};useEffect(function(){return localStorage.setItem(STORAGE_KEY,lecIndex);},[lecIndex]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"App-select\",value:lecIndex,onChange:handleChange,children:lectures.map(function(id,index){return/*#__PURE__*/_jsx(\"option\",{value:index,children:id},id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-start\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u7DF4\\u7FD2\\u30B3\\u30FC\\u30C9\\uFF08start\\uFF09\"}),/*#__PURE__*/_jsx(DynamicLoader,{component:\"./\".concat(lecId,\"/start/Example\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-end\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u5B8C\\u6210\\u30B3\\u30FC\\u30C9\\uFF08end\\uFF09\"}),/*#__PURE__*/_jsx(DynamicLoader,{component:\"./\".concat(lecId,\"/end/Example\")})]})]});};export default App;","map":{"version":3,"names":["Suspense","useState","useEffect","lazy","BaseErrorBoundary","jsx","_jsx","jsxs","_jsxs","STORAGE_KEY","DynamicLoader","_ref","component","LazyComponent","concat","children","fallback","App","_ref2","_localStorage$getItem","lectures","restoredLecIndx","localStorage","getItem","length","_useState","_useState2","_slicedToArray","lecIndex","setLecIndex","lecId","handleChange","event","target","value","setItem","className","onChange","map","id","index"],"sources":["/Users/miyachitaisuke/react-guide-material/04_react_basic/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { Suspense, useState, useEffect, lazy } from \"react\";\nimport BaseErrorBoundary from \"./BaseErrorBoundary\";\n\nconst STORAGE_KEY = \"rcg-current-lec-index\";\n\nconst DynamicLoader = ({ component }) => {\n  const LazyComponent = lazy(() => import(`${component}`));\n  return (\n    <BaseErrorBoundary>\n      <Suspense fallback={<div>Loading...</div>}>\n        <LazyComponent />\n      </Suspense>\n    </BaseErrorBoundary>\n  );\n};\n\nconst App = ({ lectures }) => {\n  /**\n   * ローカルストレージより画面復帰時のレクチャーインデックスを取得\n   */\n  let restoredLecIndx = localStorage.getItem(STORAGE_KEY) ?? 0;\n  restoredLecIndx = restoredLecIndx < lectures.length ? restoredLecIndx : 0;\n  const [lecIndex, setLecIndex] = useState(restoredLecIndx);\n\n  /**\n   * レクチャーID（フォルダ名）を取得\n   */\n  const lecId = lectures[lecIndex];\n\n  /**\n   * プルダウン変更時処理\n   */\n  const handleChange = (event) => setLecIndex(event.target.value);\n  useEffect(() => localStorage.setItem(STORAGE_KEY, lecIndex), [lecIndex]);\n\n  return (\n    <div className=\"App\">\n      <select className=\"App-select\" value={lecIndex} onChange={handleChange}>\n        {lectures.map((id, index) => (\n          <option key={id} value={index}>\n            {id}\n          </option>\n        ))}\n      </select>\n\n      <div className=\"App-start\">\n        <h2>練習コード（start）</h2>\n        <DynamicLoader component={`./${lecId}/start/Example`} />\n      </div>\n      <div className=\"App-end\">\n        <h2>完成コード（end）</h2>\n        <DynamicLoader component={`./${lecId}/end/Example`} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"+IAAA,MAAO,WAAW,CAClB,OAASA,QAAQ,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,IAAI,KAAQ,OAAO,CAC3D,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpD,GAAM,CAAAC,WAAW,CAAG,uBAAuB,CAE3C,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAAC,IAAA,CAAsB,IAAhB,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAChC,GAAM,CAAAC,aAAa,cAAGV,IAAI,CAAC,iBAAM,OAAM,IAAAW,MAAA,CAAIF,SAAS,CAAE,CAAC,GAAC,CACxD,mBACEN,IAAA,CAACF,iBAAiB,EAAAW,QAAA,cAChBT,IAAA,CAACN,QAAQ,EAACgB,QAAQ,cAAEV,IAAA,QAAAS,QAAA,CAAK,YAAU,CAAK,CAAE,CAAAA,QAAA,cACxCT,IAAA,CAACO,aAAa,GAAE,CAAC,CACT,CAAC,CACM,CAAC,CAExB,CAAC,CAED,GAAM,CAAAI,GAAG,CAAG,QAAN,CAAAA,GAAGA,CAAAC,KAAA,CAAqB,KAAAC,qBAAA,IAAf,CAAAC,QAAQ,CAAAF,KAAA,CAARE,QAAQ,CACrB;AACF;AACA,KACE,GAAI,CAAAC,eAAe,EAAAF,qBAAA,CAAGG,YAAY,CAACC,OAAO,CAACd,WAAW,CAAC,UAAAU,qBAAA,UAAAA,qBAAA,CAAI,CAAC,CAC5DE,eAAe,CAAGA,eAAe,CAAGD,QAAQ,CAACI,MAAM,CAAGH,eAAe,CAAG,CAAC,CACzE,IAAAI,SAAA,CAAgCxB,QAAQ,CAACoB,eAAe,CAAC,CAAAK,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B;AACF;AACA,KACE,GAAM,CAAAI,KAAK,CAAGV,QAAQ,CAACQ,QAAQ,CAAC,CAEhC;AACF;AACA,KACE,GAAM,CAAAG,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAK,QAAK,CAAAH,WAAW,CAACG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,GAC/DhC,SAAS,CAAC,iBAAM,CAAAoB,YAAY,CAACa,OAAO,CAAC1B,WAAW,CAAEmB,QAAQ,CAAC,GAAE,CAACA,QAAQ,CAAC,CAAC,CAExE,mBACEpB,KAAA,QAAK4B,SAAS,CAAC,KAAK,CAAArB,QAAA,eAClBT,IAAA,WAAQ8B,SAAS,CAAC,YAAY,CAACF,KAAK,CAAEN,QAAS,CAACS,QAAQ,CAAEN,YAAa,CAAAhB,QAAA,CACpEK,QAAQ,CAACkB,GAAG,CAAC,SAACC,EAAE,CAAEC,KAAK,qBACtBlC,IAAA,WAAiB4B,KAAK,CAAEM,KAAM,CAAAzB,QAAA,CAC3BwB,EAAE,EADQA,EAEL,CAAC,EACV,CAAC,CACI,CAAC,cAET/B,KAAA,QAAK4B,SAAS,CAAC,WAAW,CAAArB,QAAA,eACxBT,IAAA,OAAAS,QAAA,CAAI,iDAAY,CAAI,CAAC,cACrBT,IAAA,CAACI,aAAa,EAACE,SAAS,MAAAE,MAAA,CAAOgB,KAAK,kBAAiB,CAAE,CAAC,EACrD,CAAC,cACNtB,KAAA,QAAK4B,SAAS,CAAC,SAAS,CAAArB,QAAA,eACtBT,IAAA,OAAAS,QAAA,CAAI,+CAAU,CAAI,CAAC,cACnBT,IAAA,CAACI,aAAa,EAACE,SAAS,MAAAE,MAAA,CAAOgB,KAAK,gBAAe,CAAE,CAAC,EACnD,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}